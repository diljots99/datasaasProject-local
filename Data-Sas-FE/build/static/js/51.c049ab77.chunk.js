(this.webpackJsonpdatasaas=this.webpackJsonpdatasaas||[]).push([[51],{991:function(e,t,a){"use strict";a.r(t);var n=a(32),o=a(7),i=a(0),c=a.n(i),r=a(232),s=a(54),l=a(36),d=a(120),u=a(172),p=Object(u.a)({headtext:{fontWeight:"bold",marginBottom:"10px"},checkBox:{display:"flex",alignItems:"center"},exportButton:{backgroundColor:"#40acfb",fontWeight:"bold",marginLeft:"10px"},root:{height:"40%"},image:{padding:"10px"},gridContainer:{padding:"30px"},gridItem:{lineHeight:" 44px",fontSize:"20px"},header:{lineHeight:"39px",fontSize:"26px"}}),b=a(180),m=a(179),j=a(86),g=a(33),x=a(34),h=a(15),O=a(2),f=Object(u.a)((function(e){return{model:{top:"50%",left:"50%",transform:"translate(-".concat(50,"%, -",50,"%)"),position:"absolute",width:430,backgroundColor:e.palette.background.paper,borderRadius:"30px",boxShadow:e.shadows[5],padding:"16px 0 35px"},modelHead:{margin:" 20px 0",fontWeight:"bold",padding:"0 32px",fontSize:"36px",lineHeight:"54px",fontFamily:"Poppins"},modelPara:{margin:"20px 0px",fontSize:"20px",color:"#8a8fa7"},modelForm:{width:"100%",padding:"10px 32px"},modelFormItem:{width:"100%",margin:"10px 0"},inputError:{color:"red"},modelFormInput:{width:"100%",border:"1px solid #DCD9D9",borderRadius:"5px"},inputItem:{marginTop:"10px"},lable:{color:"#727272",fontWeight:400,marginBottom:"5px",fontFamily:"Poppins",fontSize:"20px",lineHeight:"44px"},conformButton:{background:"#40ACFB",borderRadius:"5px",fontFamily:"Poppins",fontSize:"22px",lineHeight:"44px",fontWeight:"500"},cancelButton:{background:"#6C757D",borderRadius:"5px",fontFamily:"Poppins",fontSize:"22px",lineHeight:"44px",fontWeight:"500"},buttonMain:{padding:"0 0 0 32px"}}}));function N(e){var t=e.open,a=e.setAddNotes,c=f(),r=Object(g.b)(),l=(Object(g.c)((function(e){return e.watch})).getcompanyNotes,Object(g.c)((function(e){return e.watch})).companyDetail),u=Object(i.useState)({addNotes:""}),p=Object(n.a)(u,2),N=p[0],C=p[1],_=Object(i.useState)({}),y=Object(n.a)(_,2),v=(y[0],y[1]),k=Object(i.useState)(!1),S=Object(n.a)(k,2);S[0],S[1],Object(h.f)();return Object(O.jsx)(b.a,{open:t,onClose:function(){return a(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(O.jsxs)("div",{className:c.model,children:[Object(O.jsx)("h2",{id:"simple-modal-title",className:c.modelHead,children:"Add Notes"}),Object(O.jsx)(m.a,{}),Object(O.jsx)(s.a,{container:!0,className:c.modelForm,children:Object(O.jsx)(s.a,{item:!0,className:c.modelFormItem,children:Object(O.jsx)(j.a,{placeholder:"Add Note",multiline:!0,value:N.addNotes,onChange:function(e){return C(Object(o.a)(Object(o.a)({},N),{},{addNotes:e.target.value}))},rows:4,maxRows:12})})}),Object(O.jsxs)(s.a,{container:!0,children:[Object(O.jsx)(s.a,{item:!0,className:c.buttonMain,children:Object(O.jsx)(d.a,{className:c.conformButton,variant:"contained",size:"large",style:{marginTop:"10px"},color:"primary",onClick:function(){!function(){v({});var e={},t=JSON.parse(sessionStorage.getItem("userData"));if(N.addNotes||(e.addNotes="Notes can not be blank"),e.addNotes)v(e);else{console.log("=@=@=@=@=@=@=@=@=@=@=@=",{n_text:N.addNotes,user_id:t.id,company_id:l.id,comapany_uuid:l.uuid,n_company_name:l.company_name});var n={n_company_name:l.company_name,n_text:N.addNotes,user_id:t.id,company_id:l.id,comapany_uuid:l.uuid};r(Object(x.h)(n)),a(!1),C({addNotes:""})}}()},children:"Save"})}),Object(O.jsx)(s.a,{item:!0,children:Object(O.jsx)(d.a,{className:c.cancelButton,variant:"contained",size:"large",style:{marginTop:"10px",backgroundColor:"#91979d",marginLeft:"10px"},color:"primary",onClick:function(){a(!1),C({addNotes:""})},children:"Cancel"})})]})]})})}var C=a(251),_=function(e){var t=e.columns,a=e.data,n=e.fetchData,c=e.loading,s=e.pageCount,l=Object(C.useTable)({columns:t,data:a,initialState:{pageIndex:0},manualPagination:!0,pageCount:s},C.usePagination),d=l.getTableProps,u=l.headerGroups,p=l.rows,b=l.prepareRow,m=(l.page,l.canPreviousPage),j=l.canNextPage,g=(l.pageOptions,l.gotoPage),x=(l.nextPage,l.pageCount),h=(l.previousPage,l.setPageSize),f=l.state,N=f.pageIndex,_=f.pageSize;Object(i.useEffect)((function(){n({pageIndex:N,pageSize:_})}),[n,N,_]);return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsxs)("table",Object(o.a)(Object(o.a)({class:"role-header",id:"table-to-xls"},d()),{},{children:[u.map((function(e){return Object(O.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(O.jsx)("th",Object(o.a)(Object(o.a)({className:"Company Name"===e.Header?"borderStart":"Notification"===e.Header?"borderEnd":"borderCenter"},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))})),c&&Object(O.jsx)("div",{children:"Loading ..."}),!c&&p.map((function(e,t){return b(e),Object(O.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(O.jsx)("td",Object(o.a)(Object(o.a)({className:"Company Name"===e.column.Header?"borderStart":"Notification"===e.column.Header?"borderEnd":"borderCenter"},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))]})),Object(O.jsxs)("div",{className:"pagination",style:{justifyContent:"flex-end",marginBottom:"5%"},children:[Object(O.jsx)(r.a,{className:"select",labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",value:_,onChange:function(e){h(Number(e.target.value))},children:[5,10,20,30,40,50].map((function(e){return Object(O.jsx)("option",{className:"select",value:e,children:e},e)}))}),Object(O.jsx)("nav",{"aria-label":"Page navigation example",children:Object(O.jsxs)("ul",{className:"pagination",children:[Object(O.jsx)("li",{className:"page-item",onClick:function(){return g(0)},disabled:!m,children:Object(O.jsx)("span",{"aria-hidden":"true",style:{position:"relative",top:"-3px"},children:"\xab"})}),function(){for(var e=[],t=function(t){0===N?t!=N&&t!=N+1&&t!=N+2&&t!=N+3&&t!=N+4||e.push(Object(O.jsx)("button",{className:"pagination-button",onClick:function(){return g(t)},style:{backgroundColor:N==t?"#40ACFB":null},children:t+1})):1===N?t!=N-1&&t!=N&&t!=N+1&&t!=N+2&&t!=N+3||e.push(Object(O.jsx)("button",{className:"pagination-button",onClick:function(){return g(t)},style:{backgroundColor:N==t?"#40ACFB":null},children:t+1})):N===x-1?t!=N-4&&t!=N-3&&t!=N-2&&t!=N-1&&t!=N||e.push(Object(O.jsx)("button",{className:"pagination-button",onClick:function(){return g(t)},style:{backgroundColor:N==t?"#40ACFB":null},children:t+1})):N===x-2?t!=N-3&&t!=N-2&&t!=N-1&&t!=N&&t!=N+1||e.push(Object(O.jsx)("button",{className:"pagination-button",onClick:function(){return g(t)},style:{backgroundColor:N==t?"#40ACFB":null},children:t+1})):t!=N-2&&t!=N-1&&t!=N&&t!=N+1&&t!=N+2||e.push(Object(O.jsx)("button",{className:"pagination-button",onClick:function(){return g(t)},style:{backgroundColor:N==t?"#40ACFB":null},children:t+1}))},a=0;a<x;a++)t(a);return e}(),Object(O.jsx)("li",{className:"page-item",onClick:function(){return g(x-1)},disabled:!j,children:Object(O.jsx)("span",{"aria-hidden":"true",style:{position:"relative",top:"-3px"},children:"\xbb"})})]})})]})]})};t.default=function(e){e.data;var t,a=Object(i.useState)(!1),o=Object(n.a)(a,2),r=o[0],u=o[1],b=p(),m=c.a.useState(!1),j=Object(n.a)(m,2),x=j[0],h=j[1],f=c.a.useState(0),C=Object(n.a)(f,2),y=C[0],v=C[1],k=c.a.useRef(0),S=Object(g.c)((function(e){return e.watch})).companyDetail,w=c.a.useState([]),P=Object(n.a)(w,2),H=P[0],B=P[1];console.log(S," notes________________________");var F=c.a.useMemo((function(){return[{Header:"Note",accessor:"n_text",width:200},{Header:"Created At",accessor:"createdAt",width:200},{Header:"Updated On",accessor:"updatedAt",width:200}]}),[]),A=c.a.useCallback((function(e){var t=e.pageSize,a=e.pageIndex,n=++k.current;h(!0),setTimeout((function(){if(console.log("@@@@@@@@@@@@@@#################@@@@@@@@@@@@@@",S.notes),n===k.current){var e=t*a,o=e+t;B(S.notes.slice(e,o)),v(Math.ceil(S.notes.length/t)),h(!1)}}),3e3)}),[S.notes]);return Object(O.jsxs)("div",{children:[Object(O.jsxs)(s.a,{container:!0,style:{marginBottom:"10px"},children:[Object(O.jsx)(s.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(l.a,{variant:"h5",style:{fontWeight:600},className:b.watchHeading,children:"Notes"})}),Object(O.jsx)(s.a,{item:!0,children:Object(O.jsx)(d.a,{color:"primary",style:{backgroundColor:"#40acfb",marginLeft:"20px"},variant:"contained",onClick:function(){u(!0)},children:"Add Notes"})})]}),(null===(t=S.notes)||void 0===t?void 0:t.length)>0?Object(O.jsx)(_,{columns:F,data:H,fetchData:A,loading:x,pageCount:y}):Object(O.jsx)(l.a,{variant:"h6",children:"No results found"}),Object(O.jsx)(N,{open:r,setAddNotes:u})]})}}}]);
//# sourceMappingURL=51.c049ab77.chunk.js.map